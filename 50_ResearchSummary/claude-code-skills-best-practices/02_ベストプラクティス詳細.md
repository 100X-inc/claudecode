---
tags:
  - research
  - claude-code
  - skills
  - best-practices
  - progressive-disclosure
created: 2026-01-13
source: web-researcher
---

# Skills ベストプラクティス詳細

## 概要

Anthropic公式ドキュメントから抽出したSkill作成のベストプラクティスを詳細に解説する。

## 核心原則

### 1. 簡潔さが鍵（Concise is Key）

コンテキストウィンドウは共有リソースである。Skillはシステムプロンプト、会話履歴、他のSkillメタデータと競合する。

**デフォルトの前提: Claudeは既に非常に賢い**

追加すべきは「Claudeが持っていない」コンテキストのみ。各情報に対して問いかける：
- 「Claudeは本当にこの説明が必要か？」
- 「Claudeはこれを知っていると仮定できるか？」
- 「この段落はトークンコストに見合うか？」

### 2. 適切な自由度の設定

タスクの脆弱性と変動性に応じて、指示の詳細度を調整する。

| 自由度 | 使用場面 | 例 |
|-------|---------|-----|
| **高**（テキスト指示） | 複数アプローチが有効、文脈依存の判断 | コードレビュー手順 |
| **中**（疑似コード/パラメータ付きスクリプト） | 推奨パターンがあるが変更可 | レポート生成テンプレート |
| **低**（特定スクリプト、パラメータなし） | 操作が脆弱、一貫性が重要 | DBマイグレーション |

**アナロジー**: Claudeを道を探索するロボットと考える：
- **崖に挟まれた狭い橋**: 安全な道は一つだけ → 低自由度
- **障害物のない開けた野原**: 多くの道が成功に導く → 高自由度

### 3. Progressive Disclosure（段階的開示）

Skillsの最重要設計原則。3層構造でコンテキストを効率的に管理：

```
Layer 1: メタデータ（name + description）
         → 常にプリロード（~100トークン）

Layer 2: SKILL.md本文
         → Skill発動時にロード（<5000トークン推奨）

Layer 3+: 参照ファイル（references/, scripts/等）
         → 必要に応じてオンデマンドロード（無制限）
```

## Progressive Disclosure パターン

### パターン1: 高レベルガイド + 参照

```markdown
## Advanced features

**Form filling**: See [FORMS.md](FORMS.md) for complete guide
**API reference**: See [REFERENCE.md](REFERENCE.md) for all methods
**Examples**: See [EXAMPLES.md](EXAMPLES.md) for common patterns
```

Claudeは必要なファイルのみをロードする。

### パターン2: ドメイン別組織化

```
bigquery-skill/
├── SKILL.md (概要とナビゲーション)
└── references/
    ├── finance.md (収益、請求指標)
    ├── sales.md (機会、パイプライン)
    ├── product.md (API使用状況)
    └── marketing.md (キャンペーン)
```

```markdown
## Available datasets

**Finance**: Revenue, ARR, billing → See [references/finance.md](references/finance.md)
**Sales**: Opportunities, pipeline → See [references/sales.md](references/sales.md)
```

### パターン3: 条件分岐

```markdown
## Document modification workflow

**Creating new content?** → Follow "Creation workflow" below
**Editing existing content?** → Follow "Editing workflow" below
```

## ワークフローとフィードバックループ

### チェックリストパターン

複雑なタスクには、Claudeが進捗を追跡できるチェックリストを提供：

````markdown
## PDF form filling workflow

Copy this checklist and check off items as you complete them:

```
Task Progress:
- [ ] Step 1: Analyze the form (run analyze_form.py)
- [ ] Step 2: Create field mapping (edit fields.json)
- [ ] Step 3: Validate mapping (run validate_fields.py)
- [ ] Step 4: Fill the form (run fill_form.py)
- [ ] Step 5: Verify output (run verify_output.py)
```
````

### フィードバックループ

品質を向上させる一般的なパターン：

```markdown
## Document editing process

1. Make your edits to `word/document.xml`
2. **Validate immediately**: `python validate.py unpacked_dir/`
3. If validation fails:
   - Review the error message carefully
   - Fix the issues in the XML
   - Run validation again
4. **Only proceed when validation passes**
5. Rebuild: `python pack.py unpacked_dir/ output.docx`
```

## アンチパターン（避けるべきこと）

### 1. Windowsスタイルパス

```markdown
# 良い例
scripts/helper.py
references/guide.md

# 悪い例
scripts\helper.py
references\guide.md
```

### 2. 選択肢の過剰提示

```markdown
# 悪い例
"You can use pypdf, or pdfplumber, or PyMuPDF, or pdf2image, or..."

# 良い例
"Use pdfplumber for text extraction:
[コード例]
For scanned PDFs requiring OCR, use pdf2image with pytesseract instead."
```

### 3. 深くネストした参照

```markdown
# 悪い例（深すぎる）
SKILL.md → advanced.md → details.md → actual_info.md

# 良い例（1レベル深さ）
SKILL.md → advanced.md
SKILL.md → reference.md
SKILL.md → examples.md
```

### 4. 時間依存の情報

```markdown
# 悪い例
"If you're doing this before August 2025, use the old API."

# 良い例
## Current method
Use the v2 API endpoint: `api.example.com/v2/messages`

## Old patterns
<details>
<summary>Legacy v1 API (deprecated 2025-08)</summary>
[旧情報]
</details>
```

## 評価と反復

### 評価駆動開発

1. **ギャップを特定**: Skillなしで代表的タスクを実行、失敗を記録
2. **評価を作成**: ギャップをテストする3つのシナリオを構築
3. **ベースラインを確立**: Skillなしのパフォーマンスを測定
4. **最小限の指示を書く**: ギャップを埋め、評価をパスする最小限のコンテンツ
5. **反復**: 評価実行、ベースライン比較、改善

### Claudeとの協調開発

1. **Claude Aで設計**: Skillを作成・改善するエキスパート
2. **Claude Bでテスト**: Skillを使って実際のタスクを実行
3. **観察**: Claude Bの行動を観察し、問題点を特定
4. **改善**: Claude Aに戻り、観察結果を共有して改善

## チェックリスト

### コア品質
- [ ] 説明文が具体的でキーワードを含む
- [ ] 説明文が「何をするか」と「いつ使うか」の両方を含む
- [ ] SKILL.md本文が500行以下
- [ ] 詳細は別ファイルに分離（必要な場合）
- [ ] 時間依存の情報がない（または「旧パターン」セクション）
- [ ] 一貫した用語
- [ ] 具体的な例
- [ ] ファイル参照が1レベル深さ

### テスト
- [ ] 最低3つの評価を作成
- [ ] Haiku、Sonnet、Opusでテスト
- [ ] 実際の使用シナリオでテスト

## 関連ノート

- [[00_概要]]
- [[01_SKILL.md構造]]
- [[03_ディレクトリ構成]]

## ソース

- [Skill authoring best practices - Claude Docs](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices) - 取得日: 2026-01-13
- [Anthropic Engineering Blog - Agent Skills](https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills) - 取得日: 2026-01-13
