---
tags:
  - research
  - claude-code
  - progressive-disclosure
  - best-practices
created: 2026-01-11
source: web-researcher
---

# Progressive Disclosure - ベストプラクティス

## 概要

Anthropic公式ドキュメントおよびコミュニティで推奨されるProgressive Disclosureのベストプラクティスをまとめる。

## 公式推奨事項

### 1. 簡潔さが鍵

> "The context window is a public good."
> （コンテキストウィンドウは公共財である）

**デフォルトの前提**: Claudeは既に非常に賢い

各情報に対して以下を確認:
- 「Claudeは本当にこの説明が必要か？」
- 「Claudeはこれを既に知っていると仮定できるか？」
- 「この段落はトークンコストに見合う価値があるか？」

### 2. CLAUDE.mdに含めるべき内容

| カテゴリ | 例 |
|---------|-----|
| **実行コマンド** | `npm run build`, `npm test` |
| **コアファイル** | プロジェクト特有のユーティリティ概要 |
| **スタイル規約** | 「ES Modulesを使用、CommonJSは避ける」 |
| **テスト手順** | 実行方法と頻度 |
| **リポジトリ規約** | ブランチ命名、マージ戦略 |

### 3. WHAT, WHY, HOWの法則

- **WHAT**: 技術スタック、プロジェクト構造（コードベースの地図）
- **WHY**: プロジェクトの目的、各コンポーネントの役割
- **HOW**: 作業方法（例: nodeの代わりにbunを使う）

### 4. サイズガイドライン

| 対象 | 推奨サイズ |
|------|-----------|
| SKILL.md本体 | **500行以下** |
| メタデータ | 約100トークン |
| 詳細指示 | 5,000トークン以下 |

500行を超える場合は、Progressive Disclosureパターンを使って別ファイルに分割。

## 記述のベストプラクティス

### 具体的に書く

```markdown
# 悪い例
コードを適切にフォーマットしてください。

# 良い例
2スペースインデントを使用してください。
```

### 構造を使って整理

```markdown
## ビルド手順
- `npm run build` でプロダクションビルド
- `npm run dev` で開発サーバー起動

## テスト
- 単体テスト: `npm test`
- E2Eテスト: `npm run e2e`
```

### 強調表現の活用

Anthropicでは、重要な指示に以下の強調を使用:

```markdown
IMPORTANT: テストは必ずすべてパスさせること
YOU MUST: コミット前にlintを実行すること
NEVER: 本番環境のDBを直接操作しないこと
```

### 一貫した用語

同じ概念には同じ用語を使う:

```markdown
# 悪い例（一貫性なし）
- APIエンドポイント / URL / APIルート / パス
- フィールド / ボックス / 要素 / コントロール

# 良い例（一貫性あり）
- 常に「APIエンドポイント」
- 常に「フィールド」
```

## 時間依存情報の回避

古くなる情報は含めない:

```markdown
# 悪い例
2025年8月以前なら旧APIを使用。以降は新APIを使用。

# 良い例
## 現在の方法
v2 APIエンドポイント: `api.example.com/v2/messages`

## 過去のパターン
<details>
<summary>レガシーv1 API（2025-08に廃止）</summary>
v1 APIは `api.example.com/v1/messages` を使用していた。
現在はサポート終了。
</details>
```

## チェックリスト

### コア品質
- [ ] 説明が具体的でキーワードを含む
- [ ] SKILL.md本体は500行以下
- [ ] 追加の詳細は別ファイルに分離
- [ ] 時間依存情報なし（または「過去のパターン」セクションに）
- [ ] 一貫した用語使用
- [ ] 具体的な例がある
- [ ] ファイル参照は1階層
- [ ] Progressive Disclosureが適切に使用されている

### テスト
- [ ] 少なくとも3つの評価シナリオ作成
- [ ] 実際の使用シナリオでテスト済み
- [ ] チームフィードバックを反映（該当する場合）

## 反復的改善

CLAUDE.mdは**頻繁に使用されるプロンプトと同様に改良すべき**:

1. **内容を追加後、実際の効果を測定**
2. **Claudeの挙動を観察**: 期待通りに動くか？
3. **改善を反映**: 指示が見落とされたら強調を追加
4. **チームで共有**: コミットに含めて全員で活用

## モデル別の考慮

| モデル | 考慮事項 |
|--------|---------|
| **Claude Haiku** | 十分なガイダンスを提供しているか？ |
| **Claude Sonnet** | 指示が明確で効率的か？ |
| **Claude Opus** | 過度な説明をしていないか？ |

Opusで完璧に動作する指示も、Haikuでは詳細が必要な場合がある。

## 関連ノート

- [[00_概要]] - Progressive Disclosureの基本概念
- [[01_実装パターン]] - 具体的な実装方法
- [[03_コンテキスト最適化]] - トークン最適化

## ソース

- [Claude Code: Best practices for agentic coding](https://www.anthropic.com/engineering/claude-code-best-practices) - 取得日: 2026-01-11
- [Skill authoring best practices - Claude Docs](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices) - 取得日: 2026-01-11
- [Manage Claude's memory - Claude Code Docs](https://code.claude.com/docs/en/memory) - 取得日: 2026-01-11
