# tmux マルチエージェント連携 - CLAUDE.md 設定例

このファイルの内容をプロジェクトの CLAUDE.md にコピーして使用してください。

---

## tmux マルチエージェント連携

### 環境構成

このプロジェクトでは tmux を使って2つのAIエージェントが協調動作します:

- **左ペイン (pane 0)**: Claude Code（自分）- 実装担当
- **右ペイン (pane 1)**: OpenAI Codex - レビュー担当

### Codex の出力を読み取る

実装後、Codex の応答を確認するには:

```bash
bash 90_Tools/tmux-multi-agent/read-other-pane.sh 1 50
```

### Codex にメッセージを送る

直接 Codex にメッセージを送信:

```bash
bash 90_Tools/tmux-multi-agent/send-to-pane.sh 1 "メッセージ内容"
```

### レビューワークフロー

コード実装後は以下の手順でレビューを依頼:

1. 変更が完了したら、レビュースクリプトを実行:
   ```bash
   bash 90_Tools/tmux-multi-agent/review-loop.sh [変更ファイルパス]
   ```

2. 出力を確認:
   - `=== 結果: レビュー完了 (OK) ===` → 次のタスクへ
   - `=== 結果: 要修正 (Findingsあり) ===` → 指摘事項を修正

3. "Findings:" が含まれていれば、指摘内容に従って修正

4. 修正後、再度レビュースクリプトを実行

5. "OK" が出るまで繰り返す

### レビュー依頼テンプレート

手動で Codex にレビュー依頼する場合:

```
[ファイル名]を変更しました。レビューお願いします。
問題なければOKと言ってください。

git diff [ファイル名]
```

### 注意事項

- レビュー応答には5-15秒かかる場合がある
- 待機時間が足りない場合は `review-loop.sh` の第2引数で調整
- 複数ファイルを変更した場合は、主要ファイルのみレビュー依頼
